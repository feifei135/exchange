<template>
    <div>
        <div id="test" style="width: 500px;height: 250px;"></div>

        <h1>{{test}}</h1>

    </div>
</template>
<script>
    import {getUserInfo} from '../utils/request'
    export default {
        data(){}
    }


    /*import Highcharts from 'highcharts/highstock'


     const lastClose = 6500.00; //开盘价
     const dataList = [
     // [201611080900, 6500.00, 6500.00, 0],
     // [201611080901, 6500.00, 6500.00, 2],
     // [201611080902, 6500.00, 6500.00, 0],
     // [201611080903, 6500.00, 6372.00, 2],
     // [201611080904, 6435.00, 6384.6, 1],
     // [201611080905, 6435.00, 6384.6, 0],
     // [201611080906, 6400.00, 6396.00, 3],
     // [201611080907, 6430.00, 6405.31, 5],
     // [201611080908, 6430.00, 6405.31, 0],
     // [201611080909, 6430.00, 6405.31, 0],
     // [201611080910, 6500.00, 6500.00, 0],
     // [201611080911, 6500.00, 6500.00, 2],
     // [201611080912, 6500.00, 6500.00, 0],
     // [201611080913, 6500.00, 6372.00, 2],
     // [201611080914, 6435.00, 6384.6, 1],
     // [201611080915, 6435.00, 6384.6, 0],
     // [201611080916, 6400.00, 6396.00, 3],
     // [201611080917, 6430.00, 6405.31, 5],
     // [201611080918, 6430.00, 6405.31, 0],
     // [201611080919, 6430.00, 6405.31, 0],
     // [201611080920, 6500.00, 6500.00, 0],
     // [201611080921, 6500.00, 6500.00, 2],
     // [201611080922, 6500.00, 6500.00, 0],
     // [201611080923, 6500.00, 6372.00, 2],
     // [201611080924, 6435.00, 6384.6, 1],
     // [201611080925, 6435.00, 6384.6, 0],
     // [201611080926, 6400.00, 6396.00, 3],
     // [201611080927, 6430.00, 6405.31, 5],
     // [201611080928, 6430.00, 6405.31, 0],
     // [201611080929, 6430.00, 6405.31, 0],
     [201611080930, 6500.00, 6500.00, 0],
     [201611080931, 6500.00, 6500.00, 2],
     [201611080932, 6500.00, 6500.00, 0],
     [201611080933, 6500.00, 6372.00, 2],
     [201611080934, 6435.00, 6384.6, 1],
     [201611080935, 6435.00, 6384.6, 0],
     [201611080936, 6400.00, 6396.00, 3],
     [201611080937, 6430.00, 6405.31, 5],
     [201611080938, 6430.00, 6405.31, 0],
     [201611080939, 6430.00, 6405.31, 0],
     [201611080940, 6430.00, 6405.31, 0],
     [201611080941, 6430.00, 6405.31, 0],
     [201611080942, 6430.00, 6405.31, 0],
     [201611080943, 6430.00, 6405.31, 0],
     [201611080944, 6430.00, 6405.31, 0],
     [201611080945, 6830.00, 6405.31, 0],
     [201611080946, 6430.00, 6405.31, 0],
     [201611080947, 6400.00, 6404.93, 1],
     [201611080948, 6355.00, 6396.59, 3],
     [201611080949, 6350.00, 6394.00, 1],
     [201611080950, 6311.00, 6378.91, 4],
     [201611080951, 6311.00, 6378.91, 0],
     [201611080952, 6311.00, 6378.91, 0],
     [201611080953, 6311.00, 6378.91, 0],
     [201611080954, 6311.00, 6378.91, 0],
     [201611080955, 6311.00, 6378.91, 0],
     [201611080956, 7030.00, 6370.19, 4],
     [201611080957, 6336.00, 6368.93, 1],
     [201611080958, 6336.00, 6368.93, 0],
     [201611080959, 6330.00, 6367.54, 1],
     [201611081000, 6200.00, 6340.91, 6],
     [201611081001, 6200.00, 6340.91, 0],
     [201611081002, 6235.00, 6334.97, 2],
     [201611081003, 6235.00, 6334.97, 0],
     [201611081004, 6111.00, 6301.67, 6],
     [201611081005, 6111.00, 6301.67, 0],
     [201611081006, 6120.00, 6297.44, 1],
     [201611081007, 6120.00, 6297.44, 0],
     [201611081008, 6130.00, 6293.64, 1],
     [201611081009, 6130.00, 6293.64, 0],
     [201611081010, 6130.00, 6293.64, 0],
     [201611081011, 6130.00, 6293.64, 0],
     [201611081012, 6200.00, 6291.56, 1],
     [201611081013, 6200.00, 6291.56, 0],
     [201611081014, 6220.00, 6288.51, 2],
     [201611081015, 6220.00, 6288.51, 0],
     [201611081016, 6220.00, 6288.51, 0],
     [201611081017, 6220.00, 6288.51, 0],
     [201611081018, 6220.00, 6288.51, 0],
     [201611081019, 6266.00, 6285.49, 4],
     [201611081020, 6266.00, 6285.49, 0],
     [201611081021, 6255.00, 6283.89, 3],
     [201611081022, 6255.00, 6283.89, 0],
     [201611081023, 6256.00, 6281.83, 4],
     [201611081024, 6266.00, 6280.92, 3],
     [201611081025, 6266.00, 6280.92, 0],
     [201611081026, 6277.00, 6280.68, 2],
     [201611081027, 6277.00, 6280.68, 0],
     [201611081028, 6282.00, 6280.7, 1],
     [201611081029, 6282.00, 6280.7, 0],
     [201611081030, 6282.00, 6280.7, 0],
     [201611081031, 6295.00, 6281.24, 3],
     [201611081032, 6277.00, 6281.16, 2],
     [201611081033, 6277.00, 6281.16, 0],
     [201611081034, 6265.00, 6280.93, 1],
     [201611081035, 6265.00, 6280.93, 0],
     [201611081036, 6200.00, 6279.79, 1],
     [201611081037, 6188.00, 6278.51, 1],
     [201611081038, 6170.00, 6277.03, 1],
     [201611081039, 6166.00, 6275.53, 1],
     [201611081040, 6166.00, 6275.53, 0],
     [201611081041, 6169.00, 6267.43, 5],
     [201611081042, 6169.00, 6267.43, 0],
     [201611081043, 6160.00, 6266.09, 1],
     [201611081044, 6160.00, 6266.09, 0],
     [201611081045, 6160.00, 6266.09, 0],
     [201611081046, 6195.00, 6261.33, 5],
     [201611081047, 6215.00, 6259.58, 3],
     [201611081048, 6235.00, 6258.89, 2],
     [201611081049, 6235.00, 6258.89, 0],
     [201611081050, 6262.00, 6258.91, 3],
     [201611081051, 6269.00, 6259.02, 1],
     [201611081052, 6269.00, 6259.02, 0],
     [201611081053, 6266.00, 6259.09, 1],
     [201611081054, 6266.00, 6259.09, 0],
     [201611081055, 6269.00, 6259.2, 1],
     [201611081056, 6269.00, 6259.2, 0],
     [201611081057, 6277.00, 6259.38, 1],
     [201611081058, 6277.00, 6259.38, 0],
     [201611081059, 6288.00, 6260.16, 3],
     [201611081100, 6311.00, 6261.46, 3],
     [201611081101, 6311.00, 6261.46, 0],
     [201611081102, 6315.00, 6261.97, 1],
     [201611081103, 6325.00, 6263.13, 2],
     [201611081104, 6325.00, 6263.13, 0],
     [201611081105, 6344.00, 6264.59, 2],
     [201611081106, 6350.00, 6265.38, 1],
     [201611081107, 6333.00, 6265.99, 1],
     [201611081108, 6350.00, 6266.75, 1],
     [201611081109, 6355.00, 6267.54, 1],
     [201611081110, 6355.00, 6267.54, 0],
     [201611081111, 6400.00, 6271.52, 4],
     [201611081112, 6400.00, 6271.52, 0],
     [201611081113, 6411.00, 6272.71, 1],
     [201611081114, 6411.00, 6272.71, 0],
     [201611081115, 6411.00, 6272.71, 0],
     [201611081116, 6444.00, 6280.7, 6],
     [201611081117, 6400.00, 6281.66, 1],
     [201611081118, 6410.00, 6282.69, 1],
     [201611081119, 6400.00, 6287.52, 5],
     [201611081120, 6420.00, 6289.48, 2],
     [201611081121, 6430.00, 6292.51, 3],
     [201611081122, 6600.00, 6295.78, 2],
     [201611081123, 6600.00, 6295.78, 0],
     [201611081124, 6615.00, 6306.86, 5],
     [201611081125, 6400.00, 6309.48, 3],
     [201611081126, 6415.00, 6310.2, 1],
     [201611081127, 6415.00, 6310.2, 0],
     [201611081128, 6400.00, 6310.81, 1],
     [201611081129, 6369.00, 6313.9, 8],
     [201611081130, 6369.00, 6313.9, 0],
     [201611081301, 6300.00, 6313.81, 1],
     [201611081302, 6311.00, 6313.8, 1],
     [201611081303, 6325.00, 6313.87, 1],
     [201611081304, 6333.00, 6313.99, 1],
     [201611081305, 6333.00, 6313.99, 0],
     [201611081306, 6335.00, 6314.12, 1],
     [201611081307, 6400.00, 6314.65, 1],
     [201611081308, 6400.00, 6314.65, 0],
     [201611081309, 6410.00, 6315.79, 2],
     [201611081310, 6410.00, 6315.79, 0],
     [201611081311, 6405.00, 6316.34, 1],
     [201611081312, 6415.00, 6316.93, 1],
     [201611081313, 6422.00, 6318.19, 2],
     [201611081314, 6422.00, 6318.19, 0],
     [201611081315, 6430.00, 6319.49, 2],
     [201611081316, 6335.00, 6319.49, 6],
     [201611081317, 6340.00, 6319.72, 2],
     [201611081318, 6340.00, 6319.72, 0],
     [201611081319, 6340.00, 6319.72, 0],
     [201611081320, 6350.00, 6320.02, 2],
     [201611081321, 6356.00, 6320.57, 6],
     [201611081322, 6388.00, 6322.29, 6],
     [201611081323, 6420.00, 6323.65, 3],
     [201611081324, 6460.00, 6326.7, 5],
     [201611081325, 6460.00, 6326.7, 0],
     [201611081326, 6460.00, 6326.7, 0],
     [201611081327, 6460.00, 6326.7, 0],
     [201611081328, 6400.00, 6327.71, 2],
     [201611081329, 6415.00, 6328.14, 1],
     [201611081330, 6415.00, 6328.14, 0],
     [201611081331, 6415.00, 6328.14, 0],
     [201611081332, 6415.00, 6328.14, 0],
     [201611081333, 6415.00, 6328.14, 0],
     [201611081334, 6388.00, 6329.24, 3],
     [201611081335, 6388.00, 6329.24, 0],
     [201611081336, 6350.00, 6329.83, 3],
     [201611081337, 6350.00, 6329.83, 0],
     [201611081338, 6350.00, 6329.83, 0],
     [201611081339, 6350.00, 6329.83, 0],
     [201611081340, 6350.00, 6329.83, 0],
     [201611081341, 6369.00, 6330.32, 3],
     [201611081342, 6369.00, 6330.32, 0],
     [201611081343, 6372.00, 6330.51, 1],
     [201611081344, 6372.00, 6330.51, 0],
     [201611081345, 6370.00, 6330.7, 1],
     [201611081346, 6377.00, 6331.35, 3],
     [201611081347, 6377.00, 6331.35, 0],
     [201611081348, 6370.00, 6331.53, 1],
     [201611081349, 6366.00, 6331.69, 1],
     [201611081350, 6366.00, 6331.69, 0],
     [201611081351, 6366.00, 6331.69, 0],
     [201611081352, 6366.00, 6331.69, 0],
     [201611081353, 6333.00, 6331.56, 3],
     [201611081354, 6333.00, 6331.56, 0],
     [201611081355, 6355.00, 6331.66, 1],
     [201611081356, 6366.00, 6332.15, 3],
     [201611081357, 6343.00, 6332.37, 3],
     [201611081358, 6250.00, 6331.58, 2],
     [201611081359, 6250.00, 6331.58, 0],
     [201611081400, 6250.00, 6331.58, 0],
     [201611081401, 6250.00, 6331.58, 0],
     [201611081402, 6500.00, 6332.00, 2],
     [201611081403, 6000.00, 6331.59, 3],
     [201611081404, 6188.00, 6329.27, 3],
     [201611081405, 6200.00, 6327.62, 3],
     [201611081406, 6200.00, 6327.62, 0],
     [201611081407, 6200.00, 6327.62, 0],
     [201611081408, 6200.00, 6327.62, 0],
     [201611081409, 6200.00, 6327.62, 0],
     [201611081410, 6240.00, 6326.59, 3],
     [201611081411, 6266.00, 6326.01, 2],
     [201611081412, 6266.00, 6326.01, 0],
     [201611081413, 6266.00, 6326.01, 0],
     [201611081414, 6266.00, 6326.01, 0],
     [201611081415, 6266.00, 6326.01, 0],
     [201611081416, 6280.00, 6325.83, 1],
     [201611081417, 6288.00, 6325.67, 1],
     [201611081418, 6288.00, 6325.67, 0],
     [201611081419, 6288.00, 6325.67, 0],
     [201611081420, 6288.00, 6325.67, 0],
     [201611081421, 6300.00, 6325.57, 1],
     [201611081422, 6300.00, 6325.57, 0],
     [201611081423, 6355.00, 6325.69, 6],
     [201611081424, 6355.00, 6325.69, 0],
     [201611081425, 6400.00, 6327.02, 7],
     [201611081426, 6405.00, 6327.32, 1],
     [201611081427, 6411.00, 6327.91, 2],
     [201611081428, 6403.00, 6329.43, 5],
     [201611081429, 6400.00, 6329.69, 1],
     [201611081430, 6400.00, 6329.69, 0],
     [201611081431, 6388.00, 6330.33, 3],
     [201611081432, 6388.00, 6330.33, 0],
     [201611081433, 6388.00, 6330.33, 0],
     [201611081434, 6388.00, 6330.33, 0],
     [201611081435, 6300.00, 6330.4, 6],
     [201611081436, 6300.00, 6330.4, 0],
     [201611081437, 6300.00, 6330.4, 0],
     [201611081438, 6300.00, 6330.22, 3],
     [201611081439, 6320.00, 6330.13, 2],
     [201611081440, 6320.00, 6330.13, 0],
     [201611081441, 6320.00, 6330.13, 0],
     [201611081442, 6280.00, 6329.92, 2],
     [201611081443, 6280.00, 6329.92, 0],
     [201611081444, 6250.00, 6329.65, 1],
     [201611081445, 6250.00, 6329.65, 0],
     [201611081446, 6260.00, 6329.4, 1],
     [201611081447, 6260.00, 6329.4, 0],
     [201611081448, 6233.00, 6329.07, 1],
     [201611081449, 6136.00, 6325.3, 6],
     [201611081450, 6136.00, 6325.3, 0],
     [201611081451, 6136.00, 6325.3, 0],
     [201611081452, 6100.00, 6324.55, 1],
     [201611081453, 6100.00, 6324.55, 0],
     [201611081454, 6088.00, 6323.75, 1],
     [201611081455, 6055.00, 6322.85, 1],
     [201611081456, 6055.00, 6322.85, 0],
     [201611081457, 6050.00, 6321.94, 1],
     [201611081458, 6000.00, 6320.87, 1],
     [201611081459, 6000.00, 6320.87, 0],
     [201611081500, 6000.00, 6320.87, 0]
     ];
     let max = 0,min = 100000, minTime = 1478568600000, maxTime = 1478588400000;

     //将日期格式转换为时间戳
     for (var i = 0; i < dataList.length; i++) {
     var datas = dataList[i][0].toString().replace(/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/g, "$1/$2/$3 $4:$5");

     var timeReg = new Date(datas).getTime();

     dataList[i].splice(0, 1, timeReg);

     //计算最新价最大值和最小值
     max = parseFloat(dataList[i][1]) > max ? parseFloat(dataList[i][1]) : max;
     min = parseFloat(dataList[i][1]) < min ? parseFloat(dataList[i][1]) : min;
     //console.log(max+','+min)
     //console.log(dataList)
     }



     //午休时间节点
     let breakss = [{
     from: 1478575800000,
     to: 1478581260000
     }];

     //X轴时间分布
     let positions = [1478568600000, 1478572200000, 1478575800000,1478581200000, 1478584800000, 1478588400000];

     export default {
     mounted(){
     Highcharts.setOptions({global: {useUTC: false}});
     Highcharts.StockChart(document.querySelector("#test"),{
     chart: {
     events: {
     load: function() {
     // set up the updating of the chart each second
     var series = this.series[0];
     var j = 0
     var lineDo = setInterval(function() {
     if (j >= dataList.length) {
     clearInterval(lineDo);
     }
     j += 1;
     var x = dataList[j][0],
     y = dataList[j][1];
     // var x = (new Date()).getTime(),
     //     y = Math.round(Math.random() * 100);
     // console.log(x)
     // console.log(y)
     series.addPoint([x, y], true, false);
     }, 1000);
     }
     }
     },
     series:{
     point:{
     events: function(){
     console.log(series)
     }
     }
     },
     rangeSelector: {
     enabled: false
     },
     title: {
     text: '分时图demo'
     },
     credits: {
     enabled: false
     },
     exporting: {
     enabled: false
     },
     series: [{
     name: 'Random data',
     lineWidth: 1,
     data: (function() {
     var data = [];
     // time = minTime,
     // i;
     // for (i = -10; i <= 0; i += 1) {
     //     data.push([
     //         time + i * 1000,
     //         Math.round(Math.random() * 100)
     //     ]);
     // }
     // console.log(data)
     return data;
     }())
     }],
     xAxis: {
     tickInterval: 60 * 1000 * 60,
     min: minTime,
     max: maxTime,
     gridLineColor: '#ccc',
     gridLineDashStyle: 'dotted',
     gridLineWidth: 1,
     tickColor: '#000',
     lineColor: '#ccc',
     crosshair: { //添加十字轴垂直于x轴的直线
     label: {
     enabled: true,
     padding: 3,
     formatter: function(e) {
     return Highcharts.dateFormat("%H:%M", e);
     },
     borderWidth: 1,
     backgroundColor: "red",
     style: {
     "color": "white"
     }
     },
     color: 'black', //十字轴的颜色
     dashStyle: 'dash'
     },
     breaks: breakss, //上午场最终时间无缝连接下午场开始时间
     tickPositioner: function() {
     return positions;
     },
     labels: {
     formatter: function() {
     var tt = Highcharts.dateFormat("%H:%M", this.value);
     if (tt == "11:30")
     tt = "11:30/13:00";
     return tt;
     }
     }
     },
     yAxis: [{ //y轴右
     allowDecimals: true,
     gridLineWidth: 1,
     opposite: false,
     labels: {
     formatter: function() {
     if (this.value > 100000)
     this.value = close;
     if (this.value > 10000)
     var vDate = Math.ceil(this.value);
     else if (this.value >= 100)
     var vDate = parseFloat(this.value).toFixed(2);
     else
     var vDate = parseFloat(this.value).toFixed(4);
     return vDate;

     }
     },
     plotLines: [{ //开盘价
     color: 'red',
     dashStyle: 'dash',
     value: lastClose,
     width: 1,
     zIndex: 99
     }],
     tickPositioner: function() {
     var ypositions = [];
     var inc = max - min;
     var increment = Number((inc) / 5);
     var tickMin = Number(min),
     tickMax = Number(max);
     var i = 0;
     var tick = Number(min) - increment * 3 / 2;
     for (i; i < 7; i++) {
     tick += increment;
     ypositions.push(Number(tick).toFixed(4));

     if (tick > max)
     break;
     }
     // console.log(ypositions)
     return ypositions;
     },
     gridLineColor: '#ccc',
     crosshair: { //添加十字轴垂直于y轴的直线
     label: {
     enabled: true,
     padding: 3,
     formatter: function(e) {
     return e;
     },
     borderWidth: 1,
     backgroundColor: "red",
     style: {
     "color": "white"
     }
     },
     color: 'black', //十字线的颜色
     dashStyle: 'dash'
     }
     }, { //y轴左
     allowDecimals: true,
     opposite: true,
     labels: {
     align: 'left',
     x: 10,
     formatter: function() {
     if (this.value > 100000)
     this.value = lastClose;
     var vDate = parseFloat((this.value - lastClose) * 100 / lastClose).toFixed(2);
     return vDate + "%";
     }
     },
     tickPositioner: function() {
     var ypositions = [];

     var inc = max - min;

     var increment = Number((inc) / 5);

     var tickMin = Number(min),
     tickMax = Number(max);

     var i = 0;
     var tick = Number(min) - increment * 3 / 2;
     for (i; i < 7; i++) {
     tick += increment;

     ypositions.push(Number(tick).toFixed(4));

     if (tick > max)
     break;
     }
     return ypositions;
     }
     }],
     scrollbar: {
     enabled: false
     },
     navigator: {
     adaptToUpdatedData: false,
     enabled: false
     },
     tooltip: {
     formatter: function(e) {
     var hours = new Date(this.x).getHours();
     var minutes = new Date(this.x).getMinutes();
     if (hours < 8) {
     hours = hours + 24
     }
     if (this.y >= 100) {
     var fixed = 2;
     } else {
     var fixed = 4;
     }
     var html = '<span>' + Highcharts.dateFormat("%H:%M", this.x) + '</span><br/> 现  价:' + this.y + '<br/> 涨  跌：' + (this.y - lastClose).toFixed(fixed) + '<br/>涨跌幅：' + ((this.y - lastClose) * 100 / lastClose).toFixed(2) + "%";
     return html;
     }
     }
     });
     }
     }*/
</script>
<style>
    .highcharts-halo.highcharts-color-0 {
        -webkit-transform-origin: center;
        -moz-transform-origin: center;
        transform-origin: center;
        -webkit-animation: am-heartbeat .5s infinite alternate;
        -moz-animation: am-heartbeat .5s infinite alternate;
        animation: am-heartbeat .5s infinite alternate
    }

    @-webkit-keyframes am-heartbeat {
        from {
            -webkit-transform: scale(1.33);
            -moz-transform: scale(1.33);
            transform: scale(1.33)
        }

        to {
            -webkit-transform: scale(1);
            -moz-transform: scale(1);
            transform: scale(1)
        }

    }

    @-moz-keyframes am-heartbeat {
        from {
            -webkit-transform: scale(1.33);
            -moz-transform: scale(1.33);
            transform: scale(1.33)
        }

        to {
            -webkit-transform: scale(1);
            -moz-transform: scale(1);
            transform: scale(1)
        }

    }

    @keyframes am-heartbeat {
        from {
            -webkit-transform: scale(1.33);
            -moz-transform: scale(1.33);
            transform: scale(1.33)
        }

        to {
            -webkit-transform: scale(1);
            -moz-transform: scale(1);
            transform: scale(1)
        }

    }
</style>